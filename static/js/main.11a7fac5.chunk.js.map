{"version":3,"sources":["App/Lib/uploadFile.js","App/Components/Header/Upload.js","App/Lib/exportImage.js","App/Components/Header/index.js","App/Container/Hooks/InitialText.js","App/Container/Hooks/useText.js","App/Container/index.js","App/Components/Markdown/Previewer/Loading.js","App/Components/Markdown/Previewer/ErrorBoundary.js","App/Components/Markdown/Previewer/index.js","App/Components/Markdown/Editor/MirrorEditor.js","App/Components/Markdown/Editor/index.js","App/Components/Markdown/DragBar.js","App/Container/Hooks/useDrop.js","App/Components/Markdown/index.js","App/index.js","serviceWorkerRegistration.js","index.js"],"names":["val","document","querySelector","CodeMirror","setValue","props","React","createElement","Object","assign","style","position","id","type","display","onChange","e","currentTarget","files","length","reader","FileReader","onload","loadEvent","target","readyState","error","alert","content","result","uploadFile","readAsText","accept","htmlFor","opacity","top","left","right","bottom","zIndex","cursor","children","exportAsLongImage","async","filename","arguments","undefined","previewElement","Error","maxWidth","tempWrapper","cssText","concat","clonedContent","cloneNode","querySelectorAll","forEach","element","tagName","toLowerCase","fontSize","lineHeight","marginBottom","padding","backgroundColor","borderRadius","overflow","computedStyle","window","getComputedStyle","parseFloat","fontFamily","appendChild","body","Promise","resolve","setTimeout","canvas","html2canvas","useCORS","allowTaint","scale","scrollX","scrollY","logging","removeContainer","width","height","scrollHeight","removeChild","link","download","href","toDataURL","click","console","styled","_ref","className","title","src","frameBorder","scrolling","UploadButton","role","aria-label","onClick","onExportPDF","candidateTitle","candidateTitleEl","innerText","currentTitle","requestAnimationFrame","print","replace","_templateObject","_taggedTemplateLiteral","initialText","useText","initialValue","state","setState","useState","TextContainer","Container","duration","ErrorBoundary","Component","constructor","super","this","errorInfo","componentDidCatch","render","location","reload","background","boxShadow","outline","Wrapper","div","LazyPreview","lazy","source","Suspense","fallback","Loading","setText","value","options","mode","theme","lineNumbers","lineWrapping","editor","data","Mirror","setDrag","setStartX","onMouseDown","nativeEvent","offsetX","dragStart","isDrag","useDrop","ref","onLoad","uploading","setUploading","isOver","setOver","stopDefault","preventDefault","stopPropagation","useEffect","dragLeaveHandler","dragOverHandler","dropHandler","uploadHandler","dataTransfer","name","test","current","addEventListener","removeEventListener","text","useProvided","startX","setWidth","innerWidth","markdownRef","useRef","handleMouseUp","onMouseMove","pageX","Editor","DragBar","Previewer","Provider","inject","Header","Markdown","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","onUpdate","onSuccess","catch","rootElement","getElementById","event","returnValue","ReactDOM","App","URL","process","origin","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.11a7fac5.chunk.js","sourcesContent":["export default val => {\n  document.querySelector('.CodeMirror').CodeMirror.setValue(val);\n};\n// Little dirty solution.","import React from 'react';\nimport uploadFile from '../../Lib/uploadFile.js';\n\nexport default props => {\n  const onChange = e => {\n    const files = e.currentTarget.files;\n    if (files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = loadEvent => { \n        if (loadEvent.target.readyState !== 2) return;\n        if (loadEvent.target.error) {\n          alert('Error while reading file');\n          return;\n        }\n        const content = loadEvent.target.result;\n        uploadFile(content);\n      };\n      reader.readAsText(e.target.files[0]);\n    }\n  };\n  return (\n    <p {...props} style={{ position: 'relative' }}>\n      <input\n        id=\"mdFile\"\n        type=\"file\"\n        style={{ display: 'none' }}\n        onChange={onChange}\n        accept=\".md\"\n      />\n      <label\n        htmlFor=\"mdFile\"\n        style={{\n          position: 'absolute',\n          opacity: 0,\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          zIndex: 2,\n          cursor: 'pointer'\n        }}\n      />\n      {props.children}\n    </p>\n  );\n};\n","import html2canvas from 'html2canvas';\n\n/**\n * 将预览区域导出为长图\n * @param {string} filename - 导出的文件名\n */\nexport const exportAsLongImage = async (filename = 'markdown-export') => {\n  try {\n    // 获取预览区域的DOM元素\n    const previewElement = document.querySelector('.preview');\n    if (!previewElement) {\n      throw new Error('预览区域未找到');\n    }\n\n    // 设定最大宽度，用于自适应字体大小\n    const maxWidth = 1080; // 限制最大宽度为1080px，确保字体大小合适\n    \n    // 创建一个临时的包装容器，添加适当的边距\n    const tempWrapper = document.createElement('div');\n    tempWrapper.style.cssText = `\n      position: absolute;\n      top: -9999px;\n      left: -9999px;\n      background: #ffffff;\n      padding: 30px;\n      box-sizing: border-box;\n      width: ${maxWidth}px;\n      max-width: ${maxWidth}px;\n      height: auto;\n      overflow: visible;\n      font-size: 15px;\n      line-height: 1.6;\n    `;\n\n    // 克隆预览内容\n    const clonedContent = previewElement.cloneNode(true);\n    \n    // 移除克隆内容的滚动和尺寸限制，并优化字体显示\n    clonedContent.style.cssText = `\n      width: 100% !important;\n      max-width: ${maxWidth - 60}px !important;\n      height: auto !important;\n      max-height: none !important;\n      overflow: visible !important;\n      padding: 20px !important;\n      margin: 0 !important;\n      box-sizing: border-box !important;\n      font-size: 15px !important;\n      line-height: 1.6 !important;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif !important;\n      word-wrap: break-word !important;\n      word-break: break-word !important;\n    `;\n\n    // 优化克隆内容中的所有文本元素字体大小\n    const textElements = clonedContent.querySelectorAll('*');\n    textElements.forEach(element => {\n      const tagName = element.tagName.toLowerCase();\n      \n      // 根据元素类型设置合适的字体大小\n      if (tagName === 'h1') {\n        element.style.fontSize = '28px !important';\n        element.style.lineHeight = '1.6 !important';\n        element.style.marginBottom = '20px !important';\n      } else if (tagName === 'h2') {\n        element.style.fontSize = '24px !important';\n        element.style.lineHeight = '1.6 !important';\n        element.style.marginBottom = '18px !important';\n      } else if (tagName === 'h3') {\n        element.style.fontSize = '20px !important';\n        element.style.lineHeight = '1.6 !important';\n        element.style.marginBottom = '16px !important';\n      } else if (tagName === 'h4') {\n        element.style.fontSize = '18px !important';\n        element.style.lineHeight = '1.6 !important';\n        element.style.marginBottom = '14px !important';\n      } else if (tagName === 'h5' || tagName === 'h6') {\n        element.style.fontSize = '16px !important';\n        element.style.lineHeight = '1.6 !important';\n        element.style.marginBottom = '12px !important';\n      } else if (tagName === 'p' || tagName === 'div' || tagName === 'span' || tagName === 'li') {\n        element.style.fontSize = '15px !important';\n        element.style.lineHeight = '1.6 !important';\n        element.style.marginBottom = '12px !important';\n      } else if (tagName === 'code') {\n        element.style.fontSize = '14px !important';\n        element.style.lineHeight = '1.6 !important';\n        element.style.padding = '2px 4px !important';\n        element.style.backgroundColor = '#f5f5f5 !important';\n        element.style.borderRadius = '3px !important';\n      } else if (tagName === 'pre') {\n        element.style.fontSize = '14px !important';\n        element.style.lineHeight = '1.6 !important';\n        element.style.padding = '16px !important';\n        element.style.backgroundColor = '#f8f8f8 !important';\n        element.style.borderRadius = '6px !important';\n        element.style.overflow = 'auto !important';\n      } else if (tagName === 'table' || tagName === 'td' || tagName === 'th') {\n        element.style.fontSize = '15px !important';\n        element.style.lineHeight = '1.6 !important';\n        if (tagName === 'td' || tagName === 'th') {\n          element.style.padding = '8px 12px !important';\n        }\n      } else {\n        // 其他元素的默认设置\n        const computedStyle = window.getComputedStyle(element);\n        const currentFontSize = parseFloat(computedStyle.fontSize);\n        \n        if (currentFontSize < 15) {\n          element.style.fontSize = '15px !important';\n        }\n        element.style.lineHeight = '1.6 !important';\n      }\n      \n      // 确保所有元素都有合适的字体族\n      element.style.fontFamily = '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif !important';\n    });\n\n    // 将克隆的内容添加到临时包装器中\n    tempWrapper.appendChild(clonedContent);\n    document.body.appendChild(tempWrapper);\n\n    // 等待更长时间确保样式完全应用\n    await new Promise(resolve => setTimeout(resolve, 300));\n\n    // 使用html2canvas生成图片，使用较低的scale但确保清晰度\n    const canvas = await html2canvas(tempWrapper, {\n      useCORS: true,\n      allowTaint: true,\n      scale: 2, // 使用适中的scale值，平衡文件大小和清晰度\n      backgroundColor: '#ffffff',\n      scrollX: 0,\n      scrollY: 0,\n      logging: false,\n      removeContainer: false,\n      width: maxWidth,\n      height: tempWrapper.scrollHeight\n    });\n\n    // 清理临时元素\n    document.body.removeChild(tempWrapper);\n\n    // 创建下载链接\n    const link = document.createElement('a');\n    link.download = `${filename}.png`;\n    link.href = canvas.toDataURL('image/png', 0.9); // 适当压缩\n    \n    // 触发下载\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n\n    return true;\n  } catch (error) {\n    console.error('导出长图失败:', error);\n    alert('导出长图失败，请重试');\n    return false;\n  }\n};\n\nexport default exportAsLongImage;","import React from \"react\";\nimport styled from \"styled-components\";\nimport UploadButton from \"./Upload.js\";\nimport { exportAsLongImage } from \"../../Lib/exportImage.js\";\nconst Header = ({ className }) => {\n  const onExportPDF = () => {\n    // get the file name\n    let candidateTitle = \"\";\n    const previewEl = document.querySelector(\".preview\");\n    const candidateTitleEl = previewEl.querySelector(\"h1\");\n    if (candidateTitleEl) {\n      candidateTitle = candidateTitleEl.innerText;\n\n      // do the effect change the title\n      const currentTitle = document.title;\n      document.title = candidateTitle;\n      window.requestAnimationFrame(() => {\n        // schedule resume back in next frame\n        document.title = currentTitle;\n      });\n    }\n    window.print();\n  };\n\n  const onExportAsImage = async () => {\n    // 获取文件名\n    let filename = \"markdown-export\";\n    const previewEl = document.querySelector(\".preview\");\n    const candidateTitleEl = previewEl.querySelector(\"h1\");\n    if (candidateTitleEl) {\n      filename = candidateTitleEl.innerText.replace(/[^a-zA-Z0-9\\u4e00-\\u9fa5]/g, '-');\n    }\n    \n    await exportAsLongImage(filename);\n  };\n  return (\n    <header className={className + \" no-print\"}>\n      <p className=\"project\"> md2pdfpic </p>\n      <iframe\n        title=\"github-button\"\n        className=\"project\"\n        style={{ display: \"block\" }}\n        src=\"https://ghbtns.com/github-btn.html?user=realdennis&repo=md2pdfpic&type=star&count=true\"\n        frameBorder=\"0\"\n        scrolling=\"0\"\n        width=\"100px\"\n        height=\"20px\"\n      />\n\n      <div className=\"menu\">\n        <UploadButton className=\"button upload\">\n          <span role=\"img\" aria-label=\"upload\">\n            📁\n          </span>\n          <span>导入MD文件</span>\n        </UploadButton>\n        <p className=\"button export-pdf\" onClick={onExportPDF}>\n          <span role=\"img\" aria-label=\"pdf\">\n            📄\n          </span>\n          <span>导出为PDF</span>\n        </p>\n        <p className=\"button export-image\" onClick={onExportAsImage}>\n          <span role=\"img\" aria-label=\"image\">\n            🖼️\n          </span>\n          <span>导出为长图</span>\n        </p>\n      </div>\n      {/* <span className=\"author\">Powered by @realdennis</span> */}\n    </header>\n  );\n};\n\nexport default styled(Header)`\n  * {\n    box-sizing: border-box;\n  }\n  flex-shrink: 0;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  user-select: none;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: black;\n  background-color: rgb(233, 233, 233);\n  display: flex;\n  align-items: center;\n  height: 40px;\n  .project {\n    font-weight: bold;\n    margin: 5px;\n    flex-shrink: 0;\n    height: 20px;\n  }\n  div.menu {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    gap: 8px;\n    .button {\n      height: 80%;\n      margin: 0;\n      display: flex;\n      align-items: center;\n      border-radius: 3px;\n      border: 1px solid black;\n      padding: 8px 12px;\n      cursor: pointer;\n      font-size: 14px;\n      background: white;\n      transition: all 0.2s ease;\n      &:hover {\n        background-color: #f0f0f0;\n        transform: translateY(-1px);\n      }\n      span:first-child {\n        margin-right: 6px;\n      }\n    }\n    .upload {\n      background-color: #e3f2fd;\n      border-color: #2196f3;\n      &:hover {\n        background-color: #bbdefb;\n      }\n    }\n    .export-pdf {\n      background-color: #fff3e0;\n      border-color: #ff9800;\n      &:hover {\n        background-color: #ffe0b2;\n      }\n    }\n    .export-image {\n      background-color: #f3e5f5;\n      border-color: #9c27b0;\n      &:hover {\n        background-color: #e1bee7;\n      }\n    }\n  }\n\n  /* span.author {\n    position: fixed;\n    bottom: 2px;\n    left: 2px;\n    opacity: 0.5;\n    color: white;\n    height: 20px;\n    z-index:99;\n  } */\n  @keyframes dance {\n    0% {\n      transform: rotate(3deg);\n    }\n    100% {\n      transform: rotate(-2deg);\n    }\n  }\n`;\n","export const initialText = `# Markdown 转 PDF / 长图\nhttps://ibigqiang.github.io/md2pdfpic/\n> 强大的 Markdown 转 PDF和长图工具！\n\\`\\`\\`diff\n- 在线？上传简历.md到陌生服务器？\n+ 试试离线网页应用！\n\\`\\`\\`\n\n## 如何使用 md2pdfpic？\n1. 点击按钮“**导入MD文件**”选择 \\`.md\\` 文件，或粘贴markdown格式代码到左侧编辑器内。\n2. 在编辑器中编辑（左侧面板）。\n3. 点击 **导出为PDF**，保存PDF文件到本地；\n4. 或点击 **导出为长图**，保存长图格式图片到本地；\n5. **推荐使用 Chrome 浏览器**\n\n## 使用技巧\n- \\`调整\\` 布局到你想要的样子。\n- 点击 \\`导出为**\\` 按钮后，取消勾选 **\"页眉和页脚\"** 选项。\n- **反选页首与页尾**。\n\n## 有什么特别的？\n- 你可以使用 <span style=\"color:#0984e3\">html</span> 标签！\n<blockquote>嘿，我在引用块里面！</blockquote>\n\n## 个人简介\n- Github: [@ibigqiang](https://github.com/ibigqiang)\n- 项目: md2pdfpic (Markdown 转 PDF / 长图)\n- 关于我: ☕ 、 👨🏻‍💻️、 🍕、 🎞️\n\n## 代码示例\n\\`\\`\\`javascript\n// index.js\nfunction Hello(){\n  console.log('世界！')\n}\nHello();\n\\`\\`\\`\n\n或者这样\n\n\\`\\`\\`python\n# main.py\ndef awesome():\n    print('太棒了！')\nawesome()\n\\`\\`\\`\n\n`;\n","import  { useState } from \"react\";\nimport { initialText } from \"./InitialText.js\";\nconst useText = (initialValue = initialText) => {\n  const [state, setState] = useState(initialValue);\n  return [state, setState];\n};\nexport default useText;\n","import { Container } from 'nonaction';\nimport useText from './Hooks/useText.js';\nexport const TextContainer = Container(useText);","import React from 'react';\nimport styled from 'styled-components';\nconst unWrappedLoading = ({ className }) => {\n  return (\n    <div className={className} id=\"suspense-loading\">\n      <p />\n      <p />\n      <p />\n    </div>\n  );\n};\nexport default styled(unWrappedLoading)`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  & > p {\n    margin: 5px;\n    width: 5px;\n    height: 15px;\n    border-radius: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n    animation-name: load;\n    animation-duration: ${(props) => props.duration + 's'};\n    &:nth-child(1) {\n      animation-delay: ${(props) => props.duration / 3 + 's'};\n    }\n    &:nth-child(2) {\n      animation-delay: ${(props) => (2 * props.duration) / 3 + 's'};\n    }\n  }\n  @keyframes load {\n    25% {\n      transform: translateY(-10px);\n    }\n    75% {\n      transform: translateY(10px);\n    }\n  }\n`;\n","import React from 'react';\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null, errorInfo: null };\n  }\n  componentDidCatch(error, errorInfo) {\n    // Catch errors in any components below and re-render with error message\n    this.setState({\n      error: error,\n      errorInfo: errorInfo\n    });\n    // You can also log error messages to an error reporting service here\n  }\n  render() {\n    if (this.state.errorInfo) {\n      // Error path\n      return (\n        <div>\n          <p>Error occurs</p>\n          {/* <details style={{ whiteSpace: 'pre-wrap' }}>\n            {this.state.error && this.state.error.toString()}\n            <br />\n            {this.state.errorInfo.componentStack}\n          </details> */}\n          <button\n            onClick={() => {\n              window.location.reload();\n            }}\n            style={{\n              background: \"none\",\n              padding: \"5px\",\n              borderRadius: \"5px\",\n              boxShadow:\"1px 1px 1px grey\",\n              outline: \"none\",\n              cursor: \"pointer\"\n            }}\n          >\n            Reload This Page\n          </button>\n        </div>\n      );\n    }\n    // Normally, just render children\n    return this.props.children;\n  }\n}\nexport default ErrorBoundary;\n","import React, { Suspense, lazy } from 'react';\nimport styled from 'styled-components';\nimport Loading from './Loading';\nimport ErrorBoundary from './ErrorBoundary.js';\nimport 'github-markdown-css';\nconst Wrapper = styled.div`\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n  width: 100%;\n  padding: 10px;\n  @media print {\n    padding: 0;\n    overflow-y: hidden;\n  }\n`;\nconst LazyPreview = lazy(() => import('./Preview.js'));\nexport default ({ source, children }) => {\n  return (\n    <ErrorBoundary>\n      <Suspense fallback={<Loading duration={0.5} />}>\n        <Wrapper className=\"preview  markdown-body\">\n          <LazyPreview source={source}>{children}</LazyPreview>\n        </Wrapper>\n      </Suspense>\n    </ErrorBoundary>\n  );\n};\n","import React from 'react';\nimport { UnControlled as CodeMirror } from 'react-codemirror2';\nimport styled from 'styled-components';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/darcula.css';\nimport 'codemirror/mode/gfm/gfm.js';\nimport { initialText } from '../../../Container/Hooks/InitialText';\nconst Editor = ({ className, setText }) => {\n  return (\n    <CodeMirror\n      className={className}\n      value={initialText}\n      options={{\n        mode: 'gfm',\n        theme: 'darcula',\n        lineNumbers: true,\n        lineWrapping: true\n      }}\n      onChange={(editor, data, value) => {\n        setText(value);\n      }}\n    />\n  );\n};\nexport default styled(Editor)`\n  height: 100%;\n  .CodeMirror {\n    height: 100%;\n    line-height: 1.5;\n  }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n// import EditArea from './EditArea.js';\nimport Mirror from './MirrorEditor.js';\nconst Editor = ({ className,  setText, width }) => {\n  return (\n    <div style={{ width }} className={className}>\n      <Mirror setText={setText}/>\n    </div>\n  );\n};\nexport default styled(Editor)`\n  flex-shrink: 0;\n  height: 100%;\n  width: 50%;\n  color: rgb(204, 204, 204);\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nconst width = 15;\n\nconst UnwrappedDragBar = ({ className, setDrag, setStartX }) => {\n  const dragStart = e => {\n    const { nativeEvent } = e;\n    const offsetX = nativeEvent.offsetX;\n    setStartX(offsetX);\n  };\n  return (\n    <div\n      className={className}\n      onMouseDown={e => {\n        setDrag(true);\n        dragStart(e);\n      }}\n    />\n  );\n};\nexport default styled(UnwrappedDragBar)`\n  width: ${width + 'px'};\n  flex-shrink: 0;\n  background-color: ${props => (props.isDrag ? '#0984e3' : 'rgb(233,233,233)')};\n  height: 100%;\n  color: white;\n  text-align: center;\n  cursor: col-resize;\n  user-select: none;\n`;\n","import { useEffect, useState } from 'react';\n\nfunction useDrop(ref, onLoad = () => {}) {\n  const [uploading, setUploading] = useState(false);\n  const [isOver, setOver] = useState(false);\n  const stopDefault = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  useEffect(() => {\n    const dragLeaveHandler = e => {\n      setOver(false);\n      stopDefault(e);\n    };\n    const dragOverHandler = e => {\n      setOver(true);\n      stopDefault(e);\n    };\n    const dropHandler = e => {\n      setOver(false);\n      stopDefault(e);\n      uploadHandler(e.dataTransfer.files);\n    };\n\n    const uploadHandler = files => {\n      if (\n        files &&\n        files[0] &&\n        files[0].name &&\n        /\\.(md)$/i.test(files[0].name) &&\n        !uploading\n      ) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          setUploading(false);\n          onLoad(e.target.result);\n        };\n        reader.readAsText(files[0]);\n        setUploading(true);\n      }\n    };\n    const target = ref.current;\n    if (!target) return;\n    target.addEventListener('dragenter', stopDefault, true);\n    target.addEventListener('dragover', dragOverHandler, true);\n    target.addEventListener('dragleave', dragLeaveHandler, true);\n    target.addEventListener('drop', dropHandler, true);\n    return () => {\n      target.removeEventListener('dragenter', stopDefault, true);\n      target.removeEventListener('dragover', dragOverHandler, true);\n      target.removeEventListener('dragleave', dragLeaveHandler, true);\n      target.removeEventListener('drop', dropHandler, true);\n    };\n  }, [ref, onLoad, uploading, isOver]);\n  return [uploading, isOver];\n}\n\nexport default useDrop;\n","import React, { useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useProvided } from 'nonaction';\nimport { TextContainer } from '../../Container';\nimport Previewer from './Previewer';\nimport Editor from './Editor';\nimport DragBar from './DragBar.js';\nimport 'github-markdown-css';\nimport useDrop from '../../Container/Hooks/useDrop.js';\nimport uploadFile from '../../Lib/uploadFile.js';\n\nconst Markdown = ({ className }) => {\n  const [text, setText] = useProvided(TextContainer);\n  const [isDrag, setDrag] = useState(false);\n  const [startX, setStartX] = useState(0);\n  const [width, setWidth] = useState(window.innerWidth / 2);\n  const markdownRef = useRef(null);\n  const [uploading, isOver] = useDrop(markdownRef, uploadFile);\n  // Partial fileText & text\n\n  useEffect(() => {\n    const handleMouseUp = () => setDrag(false);\n    document.addEventListener('mouseup', handleMouseUp);\n    return () => {\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, []);\n  // The state `isDrag` must be false, when mouse up!\n  // So we listen it in window! (Seems ugly, but it just works ha.)\n  return (\n    <div\n      ref={markdownRef}\n      style={{ opacity: isOver || uploading ? 0.5 : 1 }}\n      className={className}\n      onMouseMove={e => {\n        if (!isDrag) return;\n        const pageX = e.nativeEvent.pageX;\n        setWidth(pageX - startX);\n      }}\n    >\n      <Editor className=\"no-print\" width={width} setText={setText} />\n      <DragBar\n        className=\"no-print\"\n        isDrag={isDrag}\n        setDrag={setDrag}\n        setStartX={setStartX}\n      />\n      <Previewer>{text}</Previewer>\n    </div>\n  );\n};\n\nexport default styled(Markdown)`\n  * {\n    box-sizing: border-box;\n  }\n  height: calc(100% - 40px);\n  display: flex;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Header, Markdown } from './Components';\nimport { Provider } from 'nonaction';\nimport { TextContainer } from './Container';\nconst App = ({ className }) => {\n  return (\n    <div className={className} id=\"md2pdf-app\">\n      <Provider inject={[TextContainer]}>\n        <Header />\n        <Markdown />\n      </Provider>\n    </div>\n  );\n};\nexport default styled(App)`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  font-family: 微軟正黑體, sans-serif;\n  @media print {\n    &,\n    div {\n      display: block;\n      height: auto;\n      /* Reset to normalize for FireFox */\n    }\n    .no-print,\n    .no-print * {\n      display: none !important;\n    }\n  }\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport './styles.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nconst rootElement = document.getElementById('root');\n\n// [Prevent] The redirect of file drop\nwindow.addEventListener('drop', e => e.preventDefault(), true);\n// window.addEventListener('dragstart', e => e.preventDefault(), true);\nwindow.addEventListener('dragover', e => e.preventDefault(), true);\n// window.addEventListener('dragleave', e => e.preventDefault(), true);\nwindow.addEventListener('beforeunload', e => {\n  const msg = 'Please check and backup the change before refresh or leave.';\n  return ((e || window.event).returnValue = msg);\n});\n\nReactDOM.render(<App />, rootElement);\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}